
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" media="screen" title="no title">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.js" charset="utf-8"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/parsley.js/2.5.1/parsley.js" charset="utf-8"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" charset="utf-8"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.0.3/vue.js" charset="utf-8"></script>

<style media="screen">
  .form-section {
    padding-left: 15px;
    border-left: 2px solid #FF851B;
    display: none;
  }
  .form-section.current {
    display: inherit;
  }
  .btn-info, .btn-default {
    margin-top: 10px;
  }
</style>

<!-- Button trigger modal -->
<button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal">
  Sign into Goodinvoice
</button>

<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">

        <form class="demo-form">

          <div id="app"> <!-- required for vuejs -->

            <div class="form-section">
              <label for="email">Email:</label>
              <input v-model="message" type="email" class="form-control" name="email" required="">
            </div>

            <div class="form-section">
              <label>{{ message }}</label><br>
              <label for="password">Password:</label>
              <input type="password" class="form-control" name="password" required="">
            </div>

          </div>

          <div class="form-navigation">
            <a class="previous btn btn-info pull-left" href="#">&lt; Previous</a>
            <!-- <button type="button" class="previous btn btn-info pull-left">&lt; Previous</button> -->
            <button id="nextbutton" type="button" class="next btn btn-info pull-right">Next &gt;</button>
            <input type="submit" class="btn btn-default pull-right">
            <span class="clearfix"></span>
          </div>

        </form>




        <!-- <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button> -->
        <!-- <h4 class="modal-title" id="myModalLabel">Modal title</h4> -->
      </div>
      <!-- <div class="modal-body">
        ...
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div> -->
    </div>
  </div>
</div>


<script type="text/javascript">

$('.popover-dismiss').popover({
  trigger: 'focus'
})
// To create the
new Vue({
  el: '#app',
  data: {
    message: ''
  }
})

$(function () {
  var $sections = $('.form-section');

  function navigateTo(index) {
    // Mark the current section with the class 'current'
    $sections
      .removeClass('current')
      .eq(index)
        .addClass('current');
    // Show only the navigation buttons that make sense for the current section:
    $('.form-navigation .previous').toggle(index > 0);
    var atTheEnd = index >= $sections.length - 1;
    $('.form-navigation .next').toggle(!atTheEnd);
    $('.form-navigation [type=submit]').toggle(atTheEnd);
  }

  function curIndex() {
    // Return the current index by looking at which section has the class 'current'
    return $sections.index($sections.filter('.current'));
  }

  // Previous button is easy, just go back
  $('.form-navigation .previous').click(function() {
    navigateTo(curIndex() - 1);
  });

  // Next button goes forward iff current block validates
  $('.form-navigation .next').click(function() {
    if ($('.demo-form').parsley().validate({group: 'block-' + curIndex()}))
      navigateTo(curIndex() + 1);
  });

  // Prepare sections by setting the `data-parsley-group` attribute to 'block-0', 'block-1', etc.
  $sections.each(function(index, section) {
    $(section).find(':input').attr('data-parsley-group', 'block-' + index);
  });
  navigateTo(0); // Start at the beginning
});


$(document).keypress(function(e) {
    if(e.which == 13) {
      //check that modal is switch on && there's something there
        // alert('You pressed enter!');
        $("#nextbutton").click();

    }
});

</script>
